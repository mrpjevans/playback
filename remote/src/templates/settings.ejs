<div class="container">
	<ul class="list-group mb-2">
		<li class="list-group-item file-icon" onclick="window.location = '/wifi/'">
			<%- include('icons/wifi') %> Wifi Settings
		</li>
		<li
			class="list-group-item file-icon"
			onclick="window.location = '/settings'"
			id="loop"
		>
			<div class="container">
				<div class="row p-0">
					<div class="col-10 p-0">
						<%- include('icons/loop') %> Playback loop
					</div>
					<div class="col-2 p-0 text-end">
						<span class="badge rounded-pill bg-primary" id="loop_enabled"
							>Enabled</span
						>
						<span class="badge rounded-pill bg-secondary" id="loop_disabled"
							>Disabled</span
						>
					</div>
				</div>
			</div>
		</li>
	</ul>

	<%- include("home") %>
</div>

<script>
	document.addEventListener("vlc_status", (event) => {
		const status = event.detail;
		const toggle = status.loop === "true" ? 0 : 1;
		document.getElementById("loop_enabled").style.display = toggle
			? "none"
			: "inline";
		document.getElementById("loop_disabled").style.display = toggle
			? "inline"
			: "none";
		document.getElementById("loop").onclick = async () => {
			window.location = `/settings?loop=${toggle}`;
		};
	});
</script>
